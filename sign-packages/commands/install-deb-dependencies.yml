---
description: Install Debian dependencies necessary for package signing.
parameters:
  skip_if_forked_pr:
    description: whether to skip running if this command is run on a forked PR
    type: boolean
    default: false
steps:
  - run:
      name: Install Debian Signing Dependencies
      command: |
        <<# parameters.skip_if_forked_pr >>
          if [ -n "$CIRCLE_PR_NUMBER" ]; then
            echo "Skipping Debian package install for pull request #${CIRCLE_PR_NUMBER}."
            exit 0
          fi
        <</ parameters.skip_if_forked_pr >>
        SUDO="$(command -v sudo 2>/dev/null || which sudo 2>/dev/null)"
        $SUDO apt-get update && $SUDO apt-get -y install gnupg2 debsigs
